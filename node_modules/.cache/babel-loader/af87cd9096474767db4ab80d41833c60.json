{"ast":null,"code":"var _jsxFileName = \"/home/dixon/iOLED/front-app-web-iOLED-react/src/components/Device/AliasContainer.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport DeviceMenu from './DeviceMenu'; // Action creators.\n\nimport { updateDeviceConfig } from '../../actions'; // material-ui components.\n\nimport { withStyles, createStyles } from '@material-ui/core/styles';\nimport { Box } from '@material-ui/core';\nimport Switch from '@material-ui/core/Switch';\nimport Typography from '@material-ui/core/Typography';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Backdrop from '@material-ui/core/Backdrop';\nimport SvgIcon from '@material-ui/core/SvgIcon';\nimport { ReactComponent as TriangleIcon } from \"@svgr/webpack?-svgo,+titleProp,+ref!../../images/TriangleIndicator.svg\"; // Component style.\n\nconst styles = theme => createStyles({\n  aliasContainer: {\n    padding: theme.spacing(1),\n    backgroundColor: '#323039',\n    marginTop: '10px'\n  },\n  firstline: {\n    display: 'flex'\n  },\n  alias: {\n    color: 'white',\n    fontSize: '14px',\n    display: 'flex',\n    backgroundColor: '#1A191E',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  menu: {\n    marginLeft: '90px'\n  },\n  name: {\n    textAlign: 'center',\n    fontSize: '14px'\n  },\n  onSwitch: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginTop: '5px'\n  },\n  weekContainer: {\n    textAlign: 'center',\n    backgroundColor: '#1A191E',\n    color: 'white',\n    marginTop: '5px',\n    display: 'flex',\n    fontSize: '12px'\n  },\n  triangleIcon: {\n    marginTop: '0px'\n  },\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: '#00EAA6'\n  }\n});\n\nconst IoledSwitch = withStyles(theme => ({\n  root: {\n    width: 42,\n    height: 26,\n    padding: 0,\n    margin: theme.spacing(1)\n  },\n  switchBase: {\n    padding: 1,\n    '&$checked': {\n      transform: 'translateX(16px)',\n      color: theme.palette.common.white,\n      '& + $track': {\n        backgroundImage: 'linear-gradient(180deg, #29ABE2 0%, #00EAA6 100%)',\n        opacity: 1,\n        border: 'none'\n      }\n    },\n    '&$focusVisible $thumb': {\n      backgroundImage: 'linear-gradient(180deg, #29ABE2 0%, #00EAA6 100%)',\n      border: '6px solid #fff'\n    }\n  },\n  thumb: {\n    width: 24,\n    height: 24\n  },\n  track: {\n    borderRadius: 26 / 2,\n    border: `1px solid ${theme.palette.grey[400]}`,\n    backgroundColor: theme.palette.grey[50],\n    opacity: 1,\n    transition: theme.transitions.create(['background-color', 'border'])\n  },\n  checked: {}\n}))(Switch);\n\nclass AliasContainer extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      state: this.props.state,\n      snackOpen: false,\n      snackMessage: '',\n      trans: false\n    };\n\n    this.stateToConfig = (duty, state, timerOn, timerOff, timerState, alias, deviceId) => {\n      return {\n        config: {\n          duty,\n          state,\n          timerOn,\n          timerOff,\n          timerState,\n          alias\n        },\n        deviceId\n      };\n    };\n\n    this.switchOn = async event => {\n      this.setState({\n        snackOpen: false\n      });\n      this.setState({\n        trans: true\n      });\n      const _this$props = this.props,\n            duty = _this$props.duty,\n            timerOn = _this$props.timerOn,\n            timerOff = _this$props.timerOff,\n            timerState = _this$props.timerState,\n            alias = _this$props.alias,\n            deviceId = _this$props.deviceId,\n            index = _this$props.index;\n      const deviceConfig = this.stateToConfig(duty, event.target.checked, timerOn, timerOff, timerState, alias, deviceId);\n      await this.props.updateDeviceConfig(deviceConfig, index);\n      this.setState({\n        trans: false\n      });\n      this.setState({\n        snackOpen: true,\n        snackMessage: 'Actualizado'\n      });\n    };\n  }\n\n  // Render the component.\n  render() {\n    const classes = this.props.classes;\n    const state = this.props.state;\n    const _this$state = this.state,\n          snackOpen = _this$state.snackOpen,\n          snackMessage = _this$state.snackMessage,\n          trans = _this$state.trans;\n    return React.createElement(Box, {\n      className: classes.aliasContainer,\n      borderRadius: 12,\n      width: \"100%\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: classes.firstline,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(Box, {\n      className: classes.alias,\n      borderRadius: 5,\n      width: \"90%\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, React.createElement(Box, {\n      width: \"80%\",\n      className: classes.name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(Typography, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, this.props.alias.toUpperCase())), React.createElement(Box, {\n      width: \"20%\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(DeviceMenu, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: classes.onSwitch,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(IoledSwitch, {\n      checked: state,\n      onChange: this.switchOn,\n      value: \"state\",\n      color: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }))), React.createElement(Box, {\n      className: classes.weekContainer,\n      borderRadius: 36,\n      width: \"100%\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(Box, {\n      width: \"80%\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, React.createElement(Typography, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, \"Semana - 1\")), React.createElement(Box, {\n      width: \"20%\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, React.createElement(SvgIcon, {\n      component: TriangleIcon,\n      viewBox: \"0 0 17 17\",\n      className: classes.triangleIcon,\n      fontSize: \"small\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }))), React.createElement(Snackbar, {\n      anchorOrigin: {\n        vertical: 'bottom',\n        horizontal: 'left'\n      },\n      onClose: () => {\n        this.setState({\n          snackOpen: false\n        });\n      },\n      open: snackOpen,\n      autoHideDuration: 2000,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(SnackbarContent, {\n      style: {\n        backgroundColor: '#00EAA6',\n        color: 'white'\n      },\n      message: snackMessage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    })), React.createElement(Backdrop, {\n      className: classes.backdrop,\n      open: trans,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, React.createElement(CircularProgress, {\n      color: \"inherit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    })));\n  }\n\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return state.devices[ownProps.index];\n};\n\nexport default connect(mapStateToProps, {\n  updateDeviceConfig\n})(withStyles(styles)(AliasContainer));","map":{"version":3,"sources":["/home/dixon/iOLED/front-app-web-iOLED-react/src/components/Device/AliasContainer.js"],"names":["React","Component","connect","DeviceMenu","updateDeviceConfig","withStyles","createStyles","Box","Switch","Typography","Snackbar","SnackbarContent","CircularProgress","Backdrop","SvgIcon","styles","theme","aliasContainer","padding","spacing","backgroundColor","marginTop","firstline","display","alias","color","fontSize","justifyContent","alignItems","menu","marginLeft","name","textAlign","onSwitch","weekContainer","triangleIcon","backdrop","zIndex","drawer","IoledSwitch","root","width","height","margin","switchBase","transform","palette","common","white","backgroundImage","opacity","border","thumb","track","borderRadius","grey","transition","transitions","create","checked","AliasContainer","state","props","snackOpen","snackMessage","trans","stateToConfig","duty","timerOn","timerOff","timerState","deviceId","config","switchOn","event","setState","index","deviceConfig","target","render","classes","toUpperCase","TriangleIcon","vertical","horizontal","mapStateToProps","ownProps","devices"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {connect} from 'react-redux';\n\nimport DeviceMenu from './DeviceMenu';\n\n// Action creators.\nimport {updateDeviceConfig} from '../../actions';\n\n// material-ui components.\nimport {withStyles, createStyles} from '@material-ui/core/styles';\n\nimport {Box} from '@material-ui/core';\nimport Switch from '@material-ui/core/Switch';\n\nimport Typography from '@material-ui/core/Typography';\n\nimport Snackbar from '@material-ui/core/Snackbar';\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\n\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Backdrop from '@material-ui/core/Backdrop';\n\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nimport {ReactComponent as TriangleIcon} from '../../images/TriangleIndicator.svg';\n\n// Component style.\nconst styles = (theme) =>\n  createStyles({\n    aliasContainer: {\n      padding: theme.spacing(1),\n      backgroundColor: '#323039',\n      marginTop: '10px',\n    },\n    firstline: {\n      display: 'flex',\n    },\n    alias: {\n      color: 'white',\n      fontSize: '14px',\n      display: 'flex',\n      backgroundColor: '#1A191E',\n      justifyContent: 'center',\n      alignItems: 'center',\n    },\n    menu: {\n      marginLeft: '90px',\n    },\n    name: {\n      textAlign: 'center',\n      fontSize: '14px',\n    },\n    onSwitch: {\n      justifyContent: 'center',\n      alignItems: 'center',\n      marginTop: '5px',\n    },\n    weekContainer: {\n      textAlign: 'center',\n      backgroundColor: '#1A191E',\n      color: 'white',\n      marginTop: '5px',\n      display: 'flex',\n      fontSize: '12px',\n    },\n    triangleIcon: {\n      marginTop: '0px',\n    },\n    backdrop: {\n      zIndex: theme.zIndex.drawer + 1,\n      color: '#00EAA6',\n    },\n  });\n\nconst IoledSwitch = withStyles((theme) => ({\n  root: {\n    width: 42,\n    height: 26,\n    padding: 0,\n    margin: theme.spacing(1),\n  },\n  switchBase: {\n    padding: 1,\n    '&$checked': {\n      transform: 'translateX(16px)',\n      color: theme.palette.common.white,\n      '& + $track': {\n        backgroundImage: 'linear-gradient(180deg, #29ABE2 0%, #00EAA6 100%)',\n        opacity: 1,\n        border: 'none',\n      },\n    },\n    '&$focusVisible $thumb': {\n      backgroundImage: 'linear-gradient(180deg, #29ABE2 0%, #00EAA6 100%)',\n      border: '6px solid #fff',\n    },\n  },\n  thumb: {\n    width: 24,\n    height: 24,\n  },\n  track: {\n    borderRadius: 26 / 2,\n    border: `1px solid ${theme.palette.grey[400]}`,\n    backgroundColor: theme.palette.grey[50],\n    opacity: 1,\n    transition: theme.transitions.create(['background-color', 'border']),\n  },\n  checked: {},\n}))(Switch);\n\nclass AliasContainer extends Component {\n  // Component state.\n  state = {\n    state: this.props.state,\n    snackOpen: false,\n    snackMessage: '',\n    trans: false,\n  };\n\n  // Map device state to configuration readable by the backend.\n  stateToConfig = (duty, state, timerOn, timerOff, timerState, alias, deviceId) => {\n    return {config: {duty, state, timerOn, timerOff, timerState, alias}, deviceId};\n  };\n\n  // Modify the state of LED.\n  switchOn = async (event) => {\n    this.setState({snackOpen: false});\n    this.setState({trans: true});\n    const {duty, timerOn, timerOff, timerState, alias, deviceId, index} = this.props;\n    const deviceConfig = this.stateToConfig(duty, event.target.checked, timerOn, timerOff, timerState, alias, deviceId);\n    await this.props.updateDeviceConfig(deviceConfig, index);\n    this.setState({trans: false});\n    this.setState({snackOpen: true, snackMessage: 'Actualizado'});\n  };\n\n  // Render the component.\n  render() {\n    const {classes} = this.props;\n    const {state} = this.props;\n\n    const {snackOpen, snackMessage, trans} = this.state;\n\n    return (\n      <Box className={classes.aliasContainer} borderRadius={12} width=\"100%\">\n        <div className={classes.firstline}>\n          <Box className={classes.alias} borderRadius={5} width=\"90%\">\n            <Box width=\"80%\" className={classes.name}>\n              <Typography>{this.props.alias.toUpperCase()}</Typography>\n            </Box>\n            <Box width=\"20%\">\n              <DeviceMenu />\n            </Box>\n          </Box>\n\n          <div className={classes.onSwitch}>\n            <IoledSwitch checked={state} onChange={this.switchOn} value=\"state\" color=\"primary\" />\n          </div>\n        </div>\n        <Box className={classes.weekContainer} borderRadius={36} width=\"100%\">\n          <Box width=\"80%\">\n            <Typography>Semana - 1</Typography>\n          </Box>\n          <Box width=\"20%\">\n            <SvgIcon component={TriangleIcon} viewBox=\"0 0 17 17\" className={classes.triangleIcon} fontSize=\"small\" />\n          </Box>\n        </Box>\n\n        <Snackbar\n          anchorOrigin={{vertical: 'bottom', horizontal: 'left'}}\n          onClose={() => {\n            this.setState({snackOpen: false});\n          }}\n          open={snackOpen}\n          autoHideDuration={2000}\n        >\n          <SnackbarContent\n            style={{\n              backgroundColor: '#00EAA6',\n              color: 'white',\n            }}\n            message={snackMessage}\n          />\n        </Snackbar>\n\n        <Backdrop className={classes.backdrop} open={trans}>\n          <CircularProgress color=\"inherit\" />\n        </Backdrop>\n      </Box>\n    );\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return state.devices[ownProps.index];\n};\n\nexport default connect(mapStateToProps, {updateDeviceConfig})(withStyles(styles)(AliasContainer));\n"]},"metadata":{},"sourceType":"module"}